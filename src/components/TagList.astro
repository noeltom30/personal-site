---
import { Debug } from "astro:components";
const { frontmatter } = Astro.props;
let allPosts;
const {tags} = Astro.props;

const pathMatcher = new RegExp("posts");
let isPostPage = pathMatcher.test(Astro.url.pathname);

allPosts = Object.values(
  import.meta.glob("../pages/posts/*.md", { eager: true })
);

let tagsToDisplay;
if(!tags){
tagsToDisplay = [
  ...new Set(allPosts.map((post: any) => post.frontmatter.tags).flat()),
];
}
else{
  tagsToDisplay = tags;
}
---

<div class="tag-list-container">
  <!-- <Debug answer=  /> -->
  <h3 style="margin: 10px 5px;">Tags</h3>
  <hr />
  <div class="tag-container">
    {
      tagsToDisplay.map((tag: unknown) => (
        <a href={`../tags/${tag}`} class="tag">
          {tag}
        </a>
      ))
    }
  </div>
</div>
